<rng-shell [topRoutes]="topRoutes" [logo]="logo" [appName]="appName" [toolbarColor]="'accent'">
  <rng-theme-switcher class="ml-auto" topBarItem></rng-theme-switcher>

  <button mat-button topBarItem *ngIf="(userAuth$ | async) === null" [routerLink]="['sign-in']">
    Acceso
  </button>

  <rng-user-account-popup
    *ngIf="userAuth$ | async; let user"
    [userInfo]="user"
    [routes]="userRoutes"
  ></rng-user-account-popup>

  <!-- HERO SECTION -->
  <section class="w-full h-auto py-6 relative flex flex-col">
    <!-- bg-primary-->
    <main
      class="flex flex-col w-full md:max-w-5xl mx-auto pb-10 sm:pb-12 md:pb-16 lg:pb-20 xl:pb-28 px-4 sm:px-6 lg:px-8"
    >
      <img
        class="h-56 md:h-64 lg:h-72 w-full m-auto object-cover"
        src="assets/images/header-vector.svg"
        alt="Header Image"
      />
      <div class="text-center mt-2">
        <h1 class="text-3xl tracking-tight font-extrabold sm:text-4xl md:text-5xl">
          <span class="block xl:inline"> Servicios </span>
        </h1>
      </div>
    </main>
  </section>
  <!-- HERO SECTION -->

  <!-- SERVICE REQUEST -->
  <section
    class="flex flex-col w-full h-auto max-w-md md:max-w-2xl lg:max-w-5xl mx-auto"
    style="margin-top: -3.5rem"
  >
    <mat-card class="rounded-2xl mat-elevation-z0 border">
      <mat-card-content>
        <form novalidate [formGroup]="requestServiceForm">
          <div class="flex flex-col lg:flex-row">
            <div class="flex flex-col m-auto items-center w-full mt-0">
              <div class="h-40 w-full">
                <span
                  class="flex text-center my-4 justify-center text-2xl font-semibold text-gray-700 capitalize dark:text-white"
                  >Servicio</span
                >
                <mat-form-field appearance="outline" class="w-full px-10">
                  <mat-label>Servicio</mat-label>
                  <mat-select formControlName="activity">
                    <mat-option
                      *ngFor="let activity of activities$ | async"
                      [value]="activity.data.code"
                    >
                      {{ 'activities.' + activity.data.code | transloco }}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
            </div>
            <div class="flex flex-col m-auto items-center w-full mt-0">
              <div class="h-40 w-full">
                <span
                  class="flex text-center my-4 justify-center text-2xl font-semibold text-gray-700 capitalize dark:text-white"
                  >Ubicación</span
                >
                <mat-form-field appearance="outline" class="w-full px-10">
                  <mat-label>Código postal</mat-label>
                  <input type="text" matInput formControlName="location" />
                </mat-form-field>
              </div>
            </div>
            <div class="flex flex-col m-auto items-center w-full mt-0">
              <div class="h-40 w-full">
                <span
                  class="flex text-center my-4 justify-center text-2xl font-semibold text-gray-700 capitalize dark:text-white"
                  >Contacto</span
                >
                <mat-form-field appearance="outline" class="w-full px-10">
                  <mat-label>Email</mat-label>
                  <input type="email" matInput formControlName="email" />
                </mat-form-field>
              </div>
            </div>
          </div>
          <div class="flex">
            <button
              mat-raised-button
              color="primary"
              class="rounded-3xl mx-auto text-xl h-12"
              style="margin-bottom: -2.5rem"
              [disabled]="sendRequestLoading"
              (click)="sendRequest()"
            >
              <mat-spinner
                *ngIf="sendRequestLoading"
                diameter="25"
                color="accent"
                class="m-auto"
              ></mat-spinner>
              <span *ngIf="!sendRequestLoading">Solicitar</span>
            </button>
          </div>
        </form>
      </mat-card-content>
    </mat-card>
  </section>
  <section *ngIf="activities$ | async | slice: 0:12; let activities" class="mt-8">
    <div class="container px-6 py-12 mx-auto">
      <span
        class="flex text-center justify-center my-4 text-2xl font-semibold text-gray-700 capitalize dark:text-white"
        >Actividades populares</span
      >
      <div class="grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-3">
        <mat-card class="rounded-2xl mat-elevation-z0 border" *ngFor="let activity of activities">
          <mat-card-header>
            <mat-icon mat-card-avatar color="primary">{{ activity.data.icon }}</mat-icon>

            <mat-card-title *ngIf="activity.data.name">
              {{ activity.data.name[language] }}
            </mat-card-title>
            <mat-card-subtitle *ngIf="activity.data.description">
              {{ activity.data.description[language] }}
            </mat-card-subtitle>
          </mat-card-header>
        </mat-card>
      </div>
    </div>
  </section>
  <rng-footer></rng-footer>
</rng-shell>

<!--
    <div class="flex flex-col md:flex-row">
      <div class="flex flex-col m-auto items-center w-full mt-0">
        <button mat-fab color="accent" class="h-24 w-24">
          <span class="color-primary text-2xl">1</span>
        </button>
        <div>
          <span class="flex text-lg text-gray-900 text-center my-4 justify-center">Servicio</span>
          <div>
            <mat-form-field appearance="outline">
              <mat-label>Actividad</mat-label>
              <mat-select>
                <mat-option
                  *ngFor="let activity of activities$ | async"
                  [value]="activity.data.code"
                >
                  {{ 'activities.' + activity.data.code | transloco }}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
        </div>
      </div>
      <div class="flex flex-col m-auto items-center w-full mt-0">
        <button mat-fab color="accent" class="h-24 w-24">
          <span class="color-primary text-2xl">2</span>
        </button>
        <div>
          <span class="flex text-lg text-gray-900 text-center my-4 justify-center">Ubicación</span>
          <div>c</div>
        </div>
      </div>
      <div class="flex flex-col m-auto items-center w-full mt-0">
        <button mat-fab color="accent" class="h-24 w-24">
          <span class="color-primary text-2xl">3</span>
        </button>
        <div>
          <span class="flex text-lg text-gray-900 text-center my-4 justify-center">Contacto</span>
          <div>c</div>
        </div>
      </div>
    </div>
-->
