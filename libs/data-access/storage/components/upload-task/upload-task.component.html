<div *ngIf="snapshot$ | async as snap">
  <div *ngIf="downloadURL$ | async as url">
    <img width="100" height="100" [src]="url" />
  </div>
  <div *ngIf="percentage$ | async as percentage">
    <div *ngIf="percentage !== 0 && percentage !== 100">
      <div class="flex flex-col text-center">
        {{ percentage | number }}%
        <mat-progress-bar
          mode="determinate"
          color="primary"
          [value]="percentage"
        ></mat-progress-bar>
      </div>
      <div class="flex flex-row">
        <button mat-icon-button class="mr-auto" (click)="pause()" [disabled]="!isActive(snap)">
          <mat-icon>pause</mat-icon>
        </button>
        <button
          mat-icon-button
          class="mr-auto"
          (click)="resume()"
          [disabled]="!(snap?.state === 'paused')"
        >
          <mat-icon>resume</mat-icon>
        </button>
        <button mat-icon-button class="ml-auto" (click)="cancel()" [disabled]="!isActive(snap)">
          <mat-icon>cancel</mat-icon>
        </button>
      </div>
    </div>
  </div>
</div>
