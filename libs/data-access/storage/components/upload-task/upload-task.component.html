<div class="w-full h-full" *ngIf="satinizedFile$ | async as satinizedFile">
  <div class="max-w-4xl mx-auto grid grid-cols-1">
    <div
      class="
        relative
        p-3
        col-start-1
        row-start-1
        flex flex-col-reverse
        rounded-lg
        bg-gradient-to-t
        from-gray-500
        via-transparent
      "
    >
      <h1 class="mt-1 text-lg font-semibold text-white dark:sm:text-white">
        {{ file?.name }}
      </h1>
    </div>
    <div class="grid gap-4 col-start-1 col-end-3 row-start-1">
      <img [src]="satinizedFile" class="w-full h-60 object-cover rounded-lg" loading="lazy" />
    </div>
  </div>
</div>
<div class="w-full h-auto" *ngIf="percentage$ | async as percentage">
  <div *ngIf="percentage !== 0 && percentage !== 100">
    <div class="flex flex-col text-center">
      {{ percentage | number }}%
      <mat-progress-bar mode="determinate" color="primary" [value]="percentage"></mat-progress-bar>
    </div>
    <div *ngIf="snapshot$ | async as snap" class="flex flex-row">
      <button mat-icon-button class="mr-auto" (click)="pause()" [disabled]="!isActive(snap)">
        <mat-icon>pause</mat-icon>
      </button>
      <button
        mat-icon-button
        class="mr-auto"
        (click)="resume()"
        [disabled]="!(snap?.state === 'paused')"
      >
        <mat-icon>resume</mat-icon>
      </button>
      <button mat-icon-button class="ml-auto" (click)="cancel()" [disabled]="!isActive(snap)">
        <mat-icon>cancel</mat-icon>
      </button>
    </div>
  </div>
</div>
